<!DOCTYPE html>
<html>
  <head>
    <title>CHATBOT</title>
  </head>
  <body>
    <div class="js-container"></div>

    <script src="https://unpkg.com/supersimpledev@3.2.1/external-library.js"></script>
    <script src="https://unpkg.com/supersimpledev/react.js"></script>
    <script src="https://unpkg.com/supersimpledev/react-dom.js"></script>
    <script src="https://unpkg.com/supersimpledev/babel.js"></script>

    <script type="text/babel">
      const { useState } = React;

      function Chatbot({ onSend }) {
        const [input, setInput] = useState("");

        return (
          <>
            <input
              placeholder="Type your message here..."
              size="30"
              value={input}
              onChange={(e) => setInput(e.target.value)}
            />
            <button onClick={() => {
              onSend(input);
              setInput("");
            }}>
              Send
            </button>
          </>
        );
      }

      function ChatMsg({ msg, user }) {
        return (
          <div>
            {user === "bot" && <img src="robot.png" width="40" />}
            <span> {msg} </span>
            {user === "user" && <img src="user.png" width="40" />}
          </div>
        );
      }

      function ChatMessages({ messages }) {
        return (
          <div>
            {messages.map((chatMsg, index) => (
              <ChatMsg
                key={index}
                msg={chatMsg.msg}
                user={chatMsg.user}
              />
            ))}
          </div>
        );
      }

      function App() {
        const [chatMessages, setChatMessages] = useState([
          { msg: "hello chatbot", user: "user" },
          { msg: "Hi! How can I help you?", user: "bot" },
        ]);

        function sendMessage(text) {
          if (!text) return;

          setChatMessages([
            ...chatMessages,
            { msg: text, user: "user" },
            { msg: "My name is Shubham Jadhav", user: "bot" }
          ]);
        }

        return (
          <>
            <Chatbot onSend={sendMessage} />
            <ChatMessages messages={chatMessages} />
          </>
        );
      }

      const container = document.querySelector(".js-container");
      ReactDOM.createRoot(container).render(<App />);
    </script>
  </body>
</html>
